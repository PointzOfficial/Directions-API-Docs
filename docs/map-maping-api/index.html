<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-map-maping-api" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Map Matching API | Pointz Doc</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://pointzofficial.github.io/Pointz-Api-Doc-Web/img/pointz-social.png"><meta data-rh="true" name="twitter:image" content="https://pointzofficial.github.io/Pointz-Api-Doc-Web/img/pointz-social.png"><meta data-rh="true" property="og:url" content="https://pointzofficial.github.io/Pointz-Api-Doc-Web/docs/map-maping-api"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Map Matching API | Pointz Doc"><meta data-rh="true" name="description" content="With Pointz&#x27;s Map Matching API, you can match coordinates, such as GPS locations, to roads and paths that have been mapped in OpenStreetMap. By doing this, you can turn a path into a route with narrative instructions and also get the attribute values from that matched line."><meta data-rh="true" property="og:description" content="With Pointz&#x27;s Map Matching API, you can match coordinates, such as GPS locations, to roads and paths that have been mapped in OpenStreetMap. By doing this, you can turn a path into a route with narrative instructions and also get the attribute values from that matched line."><link data-rh="true" rel="icon" href="/Pointz-Api-Doc-Web/img/small_pointz.ico"><link data-rh="true" rel="canonical" href="https://pointzofficial.github.io/Pointz-Api-Doc-Web/docs/map-maping-api"><link data-rh="true" rel="alternate" href="https://pointzofficial.github.io/Pointz-Api-Doc-Web/docs/map-maping-api" hreflang="en"><link data-rh="true" rel="alternate" href="https://pointzofficial.github.io/Pointz-Api-Doc-Web/docs/map-maping-api" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Pointz-Api-Doc-Web/blog/rss.xml" title="Pointz Doc RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Pointz-Api-Doc-Web/blog/atom.xml" title="Pointz Doc Atom Feed"><link rel="stylesheet" href="/Pointz-Api-Doc-Web/assets/css/styles.08f3eca0.css">
<script src="/Pointz-Api-Doc-Web/assets/js/runtime~main.6f0a686f.js" defer="defer"></script>
<script src="/Pointz-Api-Doc-Web/assets/js/main.bea77a78.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Pointz-Api-Doc-Web/"><div class="navbar__logo"><img src="/Pointz-Api-Doc-Web/img/pointz.png" alt="Pointz" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Pointz-Api-Doc-Web/img/pointz.png" alt="Pointz" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Pointz Doc</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Pointz-Api-Doc-Web/docs/direction-api">Tutorial</a><a class="navbar__item navbar__link" href="/Pointz-Api-Doc-Web/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Pointz-Api-Doc-Web/docs/direction-api">Directions API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Pointz-Api-Doc-Web/docs/decoding-shape">Decode a route shape</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Pointz-Api-Doc-Web/docs/map-maping-api">Map Matching API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Pointz-Api-Doc-Web/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Expand sidebar category &#x27;Tutorial - Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Pointz-Api-Doc-Web/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Pointz-Api-Doc-Web/docs/intro">Tutorial Intro</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Pointz-Api-Doc-Web/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Map Matching API</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Map Matching API</h1>
<p>With Pointz&#x27;s Map Matching API, you can match coordinates, such as GPS locations, to roads and paths that have been mapped in OpenStreetMap. By doing this, you can turn a path into a route with narrative instructions and also get the attribute values from that matched line.</p>
<p>There are two separate Map Matching calls that perform different operations on an input set of latitude,longitude coordinates. The <code>trace_route</code> action returns the shape snapped to the road network and narrative directions, while <code>trace_attributes</code> returns detailed attribution along the portion of the route.</p>
<p>You are required to add X-API-KEY in your header.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="trace-route-action">Trace route action<a href="#trace-route-action" class="hash-link" aria-label="Direct link to Trace route action" title="Direct link to Trace route action">​</a></h2>
<p>The <code>trace_route</code> action takes the costing mode and a list of latitude,longitude coordinates, for example, from a GPS trace, to turn them into a route with the shape snapped to the road network and a set of guidance directions. You might use this to take a GPS trace from a bike route into a set of narrative instructions so you can re-create your trip or share it with others.</p>
<p>By default a single trip leg is returned in a trace_route response. You can split the route response into multiple legs by setting <code>&quot;type&quot;:&quot;break&quot;</code> on any of the input shape objects in the <code>shape</code> parameter of your query. The first and last locations should always have type break. Note that setting breaks is not supported for encoded_polyline input, and is only supported for <code>map_snap</code> mode of the trace_route endpoint.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="trace-attributes-action">Trace attributes action<a href="#trace-attributes-action" class="hash-link" aria-label="Direct link to Trace attributes action" title="Direct link to Trace attributes action">​</a></h2>
<p>The <code>trace_attributes</code> action takes the costing mode and a GPS trace or latitude,longitude positions and returns detailed attribution along the portion of the route. This includes details for each section of road along the path, as well as any intersections along the path. Some of the use cases for <code>trace_attributes</code> include getting:</p>
<ul>
<li>just-in-time information for navigation. Getting attributes only for portions of the upcoming route can improve performance because returning full details along an entire route can create a very large payload. For example, regular route responses include shape and a set of maneuvers along each route leg. The maneuvers are a generalization of the path to simplify the description. Detailed attributes and localization of attributes along a maneuver would require significant additions to the route response. For long and even moderate length routes this can be wasteful, as the chances of re-routing along a long route are high.</li>
<li>speed limits. Speed limits along a path are a good example of just-in-time information that can be used for navigation. A single maneuver in a route (US-1, for example) may have many different speed limits along the full length of the maneuver. The <code>trace_attributes</code> action allows speed limits along each road segment to be determined and associated to portions of a maneuver.</li>
<li>way IDs. You can turn a GPS trace into a set of way IDs that match the trace.</li>
<li>the current road. A map-matching call with a recent set of GPS locations can be useful to find information about the current road, even if not doing navigation or having a route loaded on device.</li>
</ul>
<p>Note that the attributes that are returned are Pointz routing attributes, not the base OSM tags or base data. Pointz imports OSM tags and normalizes many of them to a standard set of values used for routing. The default logic for the OpenStreetMap tags, keys, and values used when routing are documented on an <a href="http://wiki.openstreetmap.org/wiki/OSM_tags_for_routing/Valhalla" target="_blank" rel="noopener noreferrer">OSM wiki page</a>. To get the base OSM tags along a path, you need to take the OSM way IDs that are returned as attributes along the path and query OSM directly through a process such as the <a href="http://wiki.openstreetmap.org/wiki/Overpass_API" target="_blank" rel="noopener noreferrer">Overpass API</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-map-matching-requests">Example Map Matching requests<a href="#example-map-matching-requests" class="hash-link" aria-label="Direct link to Example Map Matching requests" title="Direct link to Example Map Matching requests">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-trace_route-requests">Example <code>trace_route</code> requests<a href="#example-trace_route-requests" class="hash-link" aria-label="Direct link to example-trace_route-requests" title="Direct link to example-trace_route-requests">​</a></h3>
<p>The following are example JSON payloads for POST requests for the <code>trace_routes</code> action.</p>
<p><em><code>trace_route</code> with shape parameter</em></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;shape&quot;:[{&quot;lat&quot;:39.983841,&quot;lon&quot;:-76.735741,&quot;type&quot;:&quot;break&quot;},{&quot;lat&quot;:39.983704,&quot;lon&quot;:-76.735298,&quot;type&quot;:&quot;via&quot;},{&quot;lat&quot;:39.983578,&quot;lon&quot;:-76.734848,&quot;type&quot;:&quot;via&quot;},{&quot;lat&quot;:39.983551,&quot;lon&quot;:-76.734253,&quot;type&quot;:&quot;break&quot;},{&quot;lat&quot;:39.983555,&quot;lon&quot;:-76.734116,&quot;type&quot;:&quot;via&quot;},{&quot;lat&quot;:39.983589,&quot;lon&quot;:-76.733315,&quot;type&quot;:&quot;via&quot;},{&quot;lat&quot;:39.983719,&quot;lon&quot;:-76.732445,&quot;type&quot;:&quot;via&quot;},{&quot;lat&quot;:39.983818,&quot;lon&quot;:-76.731712,&quot;type&quot;:&quot;via&quot;},{&quot;lat&quot;:39.983776,&quot;lon&quot;:-76.731506,&quot;type&quot;:&quot;via&quot;},{&quot;lat&quot;:39.983696,&quot;lon&quot;:-76.731369,&quot;type&quot;:&quot;break&quot;}],&quot;costing&quot;:&quot;bicycle&quot;,&quot;shape_match&quot;:&quot;map_snap&quot;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em><code>trace_route</code> with encoded polyline parameter</em></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;encoded_polyline&quot;:&quot;_grbgAh~{nhF?lBAzBFvBHxBEtBKdB?fB@dBZdBb@hBh@jBb@x@\\|@x@pB\\x@v@hBl@nBPbCXtBn@|@z@ZbAEbAa@~@q@z@QhA]pAUpAVhAPlAWtASpAAdA[dASdAQhAIlARjANnAZhAf@n@`A?lB^nCRbA\\xB`@vBf@tBTbCFbARzBZvBThBRnBNrBP`CHbCF`CNdCb@vBX`ARlAJfADhA@dAFdAP`AR`Ah@hBd@bBl@rBV|B?vB]tBCvBBhAF`CFnBXtAVxAVpAVtAb@|AZ`Bd@~BJfA@fAHdADhADhABjAGzAInAAjAB|BNbCR|BTjBZtB`@lBh@lB\\|Bl@rBXtBN`Al@g@t@?nAA~AKvACvAAlAMdAU`Ac@hAShAI`AJ`AIdAi@bAu@|@k@p@]p@a@bAc@z@g@~@Ot@Bz@f@X`BFtBXdCLbAf@zBh@fBb@xAb@nATjAKjAW`BI|AEpAHjAPdAAfAGdAFjAv@p@XlAVnA?~A?jAInAPtAVxAXnAf@tBDpBJpBXhBJfBDpAZ|Ax@pAz@h@~@lA|@bAnAd@hAj@tAR~AKxAc@xAShA]hAIdAAjA]~A[v@BhB?dBSv@Ct@CvAI~@Oz@Pv@dAz@lAj@~A^`B^|AXvAVpAXdBh@~Ap@fCh@hB\\zBN`Aj@xBFdA@jALbAPbAJdAHdAJbAHbAHfAJhALbA\\lBTvBAdC@bC@jCKjASbC?`CM`CDpB\\xAj@tB\\fA\\bAVfAJdAJbAXz@L|BO`AOdCDdA@~B\\z@l@v@l@v@l@r@j@t@b@x@b@r@z@jBVfCJdAJdANbCPfCF|BRhBS~BS`AYbAe@~BQdA&quot;,&quot;shape_match&quot;:&quot;map_snap&quot;,&quot;costing&quot;:&quot;bicycle&quot;,&quot;directions_options&quot;:{&quot;units&quot;:&quot;miles&quot;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em><code>trace_route</code> with additional trace options</em></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;encoded_polyline&quot;:&quot;{gmagAp~_nhF[_AZqAjAaB`AkB\\cAZeAPcAHiAKiCQaAUeAe@cA]qAQsACqAF}AIsAg@{@s@i@sAw@i@uANyAPsAv@cAZ_ALqA_@cA_Ai@q@w@[uAm@}AaAqAs@s@m@u@c@oA]mAMiAIkAYqBRyATsANsBKyBAiA?iAFsALuAPsAXaBGgCg@oBKiBf@iBGiBg@oBHqA?{Ai@cA@oAbAgAj@g@j@k@n@q@p@e@n@k@d@}@\\cAFgAIoBg@m@y@[_ASu@K{AHgBP{@@w@Jy@L}@JsAMoAe@kAq@kAk@gAg@y@a@m@g@q@mAo@e@gAc@sAA_AI_BFu@LiALaALaAHoAFiAF{A@yABkAKmAKcAMiBU}AYu@MaBUqBu@{As@iAaAaA_Ao@aAi@s@q@{@{@a@sAi@oAGeAD}@[YiAmA[u@BgBXaBHgAQ}@]s@S]x@_BbC}@lAw@dAs@dAk@dAm@z@s@n@y@p@{@`Ao@z@_@z@u@jA_Af@aANiAAcBPsAl@s@X}@T{@PoAPeAl@{@t@_AbAgAjBk@r@e@~AY~@U~@YhAi@lAo@t@kBb@u@NyAX{@k@MoAi@{@eAx@aArAmBt@_ALgAPiAXkAf@w@j@u@p@_A^aA\\aA`@eAt@eATcAGcAG}@AeAX_Aj@q@r@aAp@wAt@sARk@xA?pBAvAu@Ps@_Bk@i@y@\\s@f@o@j@u@f@{@RwAb@mAZaARkATqANyAImAK}@C_AFqADiAC_AUs@[}Ao@eBm@q@_@_Bg@iAm@kAaAc@s@c@w@y@{AWcAc@{Am@c@yBF{@AkAYmA_@uBD{@B{@Gu@ScBIu@NaB^_B`@sAC{Ac@}A]yAg@aBHuAJ_BAaAEgAA_AAy@@eBX_AFw@JcB^s@VuA`AuAl@kBl@_AFeAJcAB{ABwAj@o@l@q@b@u@Z{AXmAaAm@o@oAwAsAcAsAu@u@cAe@iAy@eAk@iAc@gAOgAWgBe@wAo@}Ai@sBY{@u@s@y@Y{@[aA]s@oB\\eCPoARwAXgBV{Ab@sAf@oAb@kAFsA?kACeADeA^aABeAO_Be@gB]}@eAaB_AoAw@aAm@o@q@cBp@eBz@a@fAi@|@o@LiBAyAIoAu@qBkAuAiAa@gAa@cB_@eAQm@c@o@{ANaBf@{@h@_BV}@XcBz@?{@s@o@y@u@}@mAaBw@qCm@mG}@uJLoBVkBVaBh@iB`@gBXgBZ_BZaBNgACwASyAUqAGuBGsBTcBRiB^eCTmBTaBNoAVaB@kAMiBZcAd@eAf@q@z@mAVgB[gAq@aAk@s@UkAG{B_@sAW}ASoBMwBSuB]gBq@eBs@eBaAuAaAeAo@{@i@}@e@{@g@{@m@m@y@_@y@[aBk@a@cBFsB[iAaAGoA`@IcC^yA`@}AVkBNwBBmBR_Cr@{CrAyD|@mCf@kBXeB\\eBl@aCf@cBc@sBg@qAUkBe@sBw@eBi@uA{@gAyAc@qAk@[wB@gARqANgAPiAJsAAeAa@mBKmB@uBBwB@oBZoBJkCJkANaCY}Ac@aBa@iBc@iBu@qBu@sBu@sB_AiBcA}AiAqAaAqAeAaA}@]iANgAj@}@dAcAhAeAfAyAfAo@`@k@f@o@f@s@d@o@f@k@h@o@`@s@V_Br@wAv@{An@uAt@qAj@wAl@iAv@gA~@qAbA{A`AcBz@o@^{A`AmAhAo@b@sAxA_@z@]x@a@t@qAxAk@j@qAfAm@b@m@b@kAfAuA~@eAhAcAbAiAr@qA|@gAdAcA`A{@bA_AhAgA|@mAr@qA|@mAlA&quot;,&quot;shape_match&quot;:&quot;map_snap&quot;,&quot;costing&quot;:&quot;bicycle&quot;,&quot;trace_options&quot;:{&quot;turn_penalty_factor&quot;:500},&quot;directions_options&quot;:{&quot;units&quot;:&quot;miles&quot;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-trace_attributes-requests">Example <code>trace_attributes</code> requests<a href="#example-trace_attributes-requests" class="hash-link" aria-label="Direct link to example-trace_attributes-requests" title="Direct link to example-trace_attributes-requests">​</a></h3>
<p>The following are example JSON payloads for POST requests for the <code>trace_attributes</code> action.</p>
<p><em><code>trace_attributes</code> with shape parameter</em></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;shape&quot;:[{&quot;lat&quot;:39.983841,&quot;lon&quot;:-76.735741},{&quot;lat&quot;:39.983704,&quot;lon&quot;:-76.735298},{&quot;lat&quot;:39.983578,&quot;lon&quot;:-76.734848},{&quot;lat&quot;:39.983551,&quot;lon&quot;:-76.734253},{&quot;lat&quot;:39.983555,&quot;lon&quot;:-76.734116},{&quot;lat&quot;:39.983589,&quot;lon&quot;:-76.733315},{&quot;lat&quot;:39.983719,&quot;lon&quot;:-76.732445},{&quot;lat&quot;:39.983818,&quot;lon&quot;:-76.731712},{&quot;lat&quot;:39.983776,&quot;lon&quot;:-76.731506},{&quot;lat&quot;:39.983696,&quot;lon&quot;:-76.731369}],&quot;costing&quot;:&quot;bicycle&quot;,&quot;shape_match&quot;:&quot;walk_or_snap&quot;,&quot;filters&quot;:{&quot;attributes&quot;:[&quot;edge.names&quot;,&quot;edge.id&quot;, &quot;edge.weighted_grade&quot;,&quot;edge.speed&quot;],&quot;action&quot;:&quot;include&quot;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em><code>trace_attributes</code> with encoded polyline parameter</em></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;encoded_polyline&quot;:&quot;_grbgAh~{nhF?lBAzBFvBHxBEtBKdB?fB@dBZdBb@hBh@jBb@x@\\|@x@pB\\x@v@hBl@nBPbCXtBn@|@z@ZbAEbAa@~@q@z@QhA]pAUpAVhAPlAWtASpAAdA[dASdAQhAIlARjANnAZhAf@n@`A?lB^nCRbA\\xB`@vBf@tBTbCFbARzBZvBThBRnBNrBP`CHbCF`CNdCb@vBX`ARlAJfADhA@dAFdAP`AR`Ah@hBd@bBl@rBV|B?vB]tBCvBBhAF`CFnBXtAVxAVpAVtAb@|AZ`Bd@~BJfA@fAHdADhADhABjAGzAInAAjAB|BNbCR|BTjBZtB`@lBh@lB\\|Bl@rBXtBN`Al@g@t@?nAA~AKvACvAAlAMdAU`Ac@hAShAI`AJ`AIdAi@bAu@|@k@p@]p@a@bAc@z@g@~@Ot@Bz@f@X`BFtBXdCLbAf@zBh@fBb@xAb@nATjAKjAW`BI|AEpAHjAPdAAfAGdAFjAv@p@XlAVnA?~A?jAInAPtAVxAXnAf@tBDpBJpBXhBJfBDpAZ|Ax@pAz@h@~@lA|@bAnAd@hAj@tAR~AKxAc@xAShA]hAIdAAjA]~A[v@BhB?dBSv@Ct@CvAI~@Oz@Pv@dAz@lAj@~A^`B^|AXvAVpAXdBh@~Ap@fCh@hB\\zBN`Aj@xBFdA@jALbAPbAJdAHdAJbAHbAHfAJhALbA\\lBTvBAdC@bC@jCKjASbC?`CM`CDpB\\xAj@tB\\fA\\bAVfAJdAJbAXz@L|BO`AOdCDdA@~B\\z@l@v@l@v@l@r@j@t@b@x@b@r@z@jBVfCJdAJdANbCPfCF|BRhBS~BS`AYbAe@~BQdA&quot;,&quot;shape_match&quot;:&quot;map_snap&quot;,&quot;costing&quot;:&quot;bicycle&quot;,&quot;directions_options&quot;:{&quot;units&quot;:&quot;miles&quot;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em><code>trace_attributes</code> with <code>include</code> attribute filter</em></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;shape&quot;:[{&quot;lat&quot;:39.983841,&quot;lon&quot;:-76.735741},{&quot;lat&quot;:39.983704,&quot;lon&quot;:-76.735298},{&quot;lat&quot;:39.983578,&quot;lon&quot;:-76.734848},{&quot;lat&quot;:39.983551,&quot;lon&quot;:-76.734253},{&quot;lat&quot;:39.983555,&quot;lon&quot;:-76.734116},{&quot;lat&quot;:39.983589,&quot;lon&quot;:-76.733315},{&quot;lat&quot;:39.983719,&quot;lon&quot;:-76.732445},{&quot;lat&quot;:39.983818,&quot;lon&quot;:-76.731712},{&quot;lat&quot;:39.983776,&quot;lon&quot;:-76.731506},{&quot;lat&quot;:39.983696,&quot;lon&quot;:-76.731369}],&quot;costing&quot;:&quot;bicycle&quot;,&quot;shape_match&quot;:&quot;walk_or_snap&quot;,&quot;filters&quot;:{&quot;attributes&quot;:[&quot;edge.names&quot;,&quot;edge.id&quot;, &quot;edge.weighted_grade&quot;,&quot;edge.speed&quot;],&quot;action&quot;:&quot;include&quot;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em><code>trace_attributes</code> with <code>exclude</code> attribute filter</em></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;shape&quot;:[{&quot;lat&quot;:39.983841,&quot;lon&quot;:-76.735741},{&quot;lat&quot;:39.983704,&quot;lon&quot;:-76.735298},{&quot;lat&quot;:39.983578,&quot;lon&quot;:-76.734848},{&quot;lat&quot;:39.983551,&quot;lon&quot;:-76.734253},{&quot;lat&quot;:39.983555,&quot;lon&quot;:-76.734116},{&quot;lat&quot;:39.983589,&quot;lon&quot;:-76.733315},{&quot;lat&quot;:39.983719,&quot;lon&quot;:-76.732445},{&quot;lat&quot;:39.983818,&quot;lon&quot;:-76.731712},{&quot;lat&quot;:39.983776,&quot;lon&quot;:-76.731506},{&quot;lat&quot;:39.983696,&quot;lon&quot;:-76.731369}],&quot;costing&quot;:&quot;bicycle&quot;,&quot;shape_match&quot;:&quot;walk_or_snap&quot;,&quot;filters&quot;:{&quot;attributes&quot;:[&quot;edge.names&quot;,&quot;edge.begin_shape_index&quot;,&quot;edge.end_shape_index&quot;,&quot;shape&quot;],&quot;action&quot;:&quot;exclude&quot;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>If you would like to visualize the map matched points that correlate to specified input locations - use the following filter</em></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;filters&quot;:{&quot;attributes&quot;:[&quot;edge.id&quot;,&quot;matched.point&quot;,&quot;matched.type&quot;,&quot;matched.edge_index&quot;,&quot;matched.begin_route_discontinuity&quot;,&quot;matched.end_route_discontinuity&quot;,&quot;matched.distance_along_edge&quot;],&quot;action&quot;:&quot;include&quot;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="inputs-of-the-map-matching-api">Inputs of the Map Matching API<a href="#inputs-of-the-map-matching-api" class="hash-link" aria-label="Direct link to Inputs of the Map Matching API" title="Direct link to Inputs of the Map Matching API">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="shape-matching-parameters">Shape-matching parameters<a href="#shape-matching-parameters" class="hash-link" aria-label="Direct link to Shape-matching parameters" title="Direct link to Shape-matching parameters">​</a></h3>
<p><code>shape_match</code> is an optional string input parameter. It allows some control of the matching algorithm based on the type of input.</p>
<table><thead><tr><th style="text-align:left">shape_match type</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">edge_walk</td><td style="text-align:left">Indicates an edge walking algorithm can be used. This algorithm requires nearly exact shape matching, so it should only be used when the shape is from a prior Pointz route.</td></tr><tr><td style="text-align:left">map_snap</td><td style="text-align:left">Indicates that a map-matching algorithm should be used because the input shape might not closely match Pointz edges.</td></tr><tr><td style="text-align:left">walk_or_snap</td><td style="text-align:left">Also the default option. This will try edge walking and if this does not succeed, it will fall back and use map matching.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-options">Other options<a href="#other-options" class="hash-link" aria-label="Direct link to Other options" title="Direct link to Other options">​</a></h3>
<p>You can also set <code>directions_options</code> to specify output units, language, and whether or not to return directions in a narrative form. Refer to the <a href="/Pointz-Api-Doc-Web/docs/direction-api#directions-options">route options</a> documentation for examples.</p>
<p><code>trace_route</code> has additional options that allow more flexibility in specifying timestamps (when using encoded polyline input for the trace) and for using timestamps when computing elapsed time along the matched path. These options are:</p>
<table><thead><tr><th style="text-align:left">Option</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">begin_time</td><td style="text-align:left">Begin timestamp for the trace. This is used along with the <code>durations</code> so that timestamps can be specified for a trace that is specified using an encoded polyline.</td></tr><tr><td style="text-align:left">durations</td><td style="text-align:left">List of durations (seconds) between each successive pair of input trace points. This allows trace points to be supplied as an encoded polyline and timestamps to be created by using this list of &quot;delta&quot; times along with the <code>begin_time</code> of the trace.</td></tr><tr><td style="text-align:left">use_timestamps</td><td style="text-align:left">A boolean value indicating whether the input timestamps or durations should be used when computing elapsed time at each edge along the matched path. If true, timestamps are used. If false (default), internal costing is applied to compute elapsed times.</td></tr><tr><td style="text-align:left">trace_options</td><td style="text-align:left">Additional options.</td></tr><tr><td style="text-align:left">trace_options.search_radius</td><td style="text-align:left">Search radius in meters associated with supplied trace points.</td></tr><tr><td style="text-align:left">trace_options.gps_accuracy</td><td style="text-align:left">GPS accuracy in meters associated with supplied trace points.</td></tr><tr><td style="text-align:left">trace_options.breakage_distance</td><td style="text-align:left">Breaking distance in meters between trace points.</td></tr><tr><td style="text-align:left">trace_options.interpolation_distance</td><td style="text-align:left">Interpolation distance in meters beyond which trace points are merged together.</td></tr><tr><td style="text-align:left">linear_references</td><td style="text-align:left">When present and <code>true</code>, the successful <code>trace_route</code> response will include a key <code>linear_references</code>. Its value is an array of base64-encoded <a href="https://www.openlr-association.com/fileadmin/user_upload/openlr-whitepaper_v1.5.pdf" target="_blank" rel="noopener noreferrer">OpenLR location references</a>, one for each graph edge of the road network matched by the input trace.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="attribute-filters-trace_attributes-only">Attribute filters (<code>trace_attributes</code> only)<a href="#attribute-filters-trace_attributes-only" class="hash-link" aria-label="Direct link to attribute-filters-trace_attributes-only" title="Direct link to attribute-filters-trace_attributes-only">​</a></h3>
<p>The <code>trace_attributes</code> action allows you to apply filters to <code>include</code> or <code>exclude</code> specific attribute filter keys in your response. These filters are optional and can be added to the action string inside of the <code>filters</code> object.</p>
<p>If no filters are used, all attributes are enabled and returned in the <code>trace_attributes</code> response.</p>
<p>These are the available filter keys. Review their <a href="#outputs-of-trace_attributes">descriptions</a> for more information.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Edge filter Keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.names</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.length  # can also set source/target_percent_along</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.speed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.road_class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.begin_heading</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.end_heading</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.begin_shape_index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.end_shape_index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.traversability</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.toll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.unpaved</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.tunnel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.bridge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.roundabout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.internal_intersection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.drive_on_right</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.surface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.sign.exit_number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.sign.exit_branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.sign.exit_toward</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.sign.exit_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.travel_mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.vehicle_type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.pedestrian_type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.bicycle_type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.transit_type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.indoor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.way_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.weighted_grade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.max_upward_grade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.max_downward_grade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.mean_elevation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.lane_count</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.cycle_lane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.bicycle_network</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.sac_scale</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.shoulder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.sidewalk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.density</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.speed_limit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.truck_speed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge.truck_route</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Node filter keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.intersecting_edge.begin_heading</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.intersecting_edge.from_edge_name_consistency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.intersecting_edge.to_edge_name_consistency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.intersecting_edge.driveability</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.intersecting_edge.cyclability</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.intersecting_edge.walkability</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.intersecting_edge.use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.intersecting_edge.road_class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.intersecting_edge.lane_count</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.elapsed_time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.admin_index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.fork</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node.time_zone</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Other filter keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">osm_changeset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shape</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin.country_code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin.country_text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin.state_code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin.state_text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matched.point</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matched.type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matched.edge_index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matched.begin_route_discontinuity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matched.end_route_discontinuity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matched.distance_along_edge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matched.distance_from_trace_point</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="outputs-of-the-map-matching-api">Outputs of the Map Matching API<a href="#outputs-of-the-map-matching-api" class="hash-link" aria-label="Direct link to Outputs of the Map Matching API" title="Direct link to Outputs of the Map Matching API">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="outputs-of-trace_route">Outputs of <code>trace_route</code><a href="#outputs-of-trace_route" class="hash-link" aria-label="Direct link to outputs-of-trace_route" title="Direct link to outputs-of-trace_route">​</a></h3>
<p>The outputs of the <code>trace_route</code> action are the same as the <a href="/Pointz-Api-Doc-Web/docs/direction-api#outputs-of-a-route">outputs of a route</a> action.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="outputs-of-trace_attributes">Outputs of <code>trace_attributes</code><a href="#outputs-of-trace_attributes" class="hash-link" aria-label="Direct link to outputs-of-trace_attributes" title="Direct link to outputs-of-trace_attributes">​</a></h3>
<p>The <code>trace_attributes</code> results contains a list of edges and, optionally, the following items: <code>osm_changeset</code>, list of <code>admins</code>, <code>shape</code>, <code>matched_points</code>, and <code>units</code>.</p>
<table><thead><tr><th style="text-align:left">Result item</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">edges</td><td style="text-align:left">List of edges associated with input shape. See the list of <a href="#edge-items">edge items</a> for details.</td></tr><tr><td style="text-align:left">osm_changeset</td><td style="text-align:left">Identifier of the OpenStreetMap base data version.</td></tr><tr><td style="text-align:left">admins</td><td style="text-align:left">List of the administrative codes and names. See the list of <a href="#admin-items">admin items</a> for details.</td></tr><tr><td style="text-align:left">shape</td><td style="text-align:left">The <a href="/Pointz-Api-Doc-Web/docs/decoding-shape">encoded polyline</a> of the matched path.</td></tr><tr><td style="text-align:left">matched_points</td><td style="text-align:left">List of match results when using the <code>map_snap</code> shape match algorithm. There is a one-to-one correspondence with the input set of latitude, longitude coordinates and this list of match results. See the list of <a href="#matched-point-items">matched point items</a> for details.</td></tr><tr><td style="text-align:left">units</td><td style="text-align:left">The specified units with the request, in either kilometers or miles.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="edge-items">Edge items<a href="#edge-items" class="hash-link" aria-label="Direct link to Edge items" title="Direct link to Edge items">​</a></h4>
<p>Each <code>edge</code> may include:</p>
<table><thead><tr><th style="text-align:left">Edge item</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">names</td><td style="text-align:left">List of names.</td></tr><tr><td style="text-align:left">source_percent_along</td><td style="text-align:left">The start of an edge&#x27;s match as percentage of its length in (0, 1) range. If an edge was fully matched, we omit this value.</td></tr><tr><td style="text-align:left">target_percent_along</td><td style="text-align:left">The end of an edge&#x27;s match as percentage of its length in (0, 1) range. If an edge was fully matched, we omit this value.</td></tr><tr><td style="text-align:left">length</td><td style="text-align:left">The <strong>matched</strong> edge length in the units specified (default is kilometers). If <code>source_percent_along</code> and/or <code>target_percent_along</code> are present, this represents the partially matched edge length, otherwise the full edge length.</td></tr><tr><td style="text-align:left">speed</td><td style="text-align:left">Edge speed in the units specified. The default is kilometers per hour.</td></tr><tr><td style="text-align:left">begin_heading</td><td style="text-align:left">The direction at the beginning of an edge. The units are degrees from north in a clockwise direction.</td></tr><tr><td style="text-align:left">end_heading</td><td style="text-align:left">The direction at the end of an edge. The units are degrees from north in a clockwise direction..</td></tr><tr><td style="text-align:left">begin_shape_index</td><td style="text-align:left">Index into the list of shape points for the start of the edge.</td></tr><tr><td style="text-align:left">end_shape_index</td><td style="text-align:left">Index into the list of shape points for the end of the edge.</td></tr><tr><td style="text-align:left">traversability</td><td style="text-align:left">Traversability values, if available:<ul><li><code>forward</code></li><li><code>backward</code></li><li><code>both</code></li></ul></td></tr><tr><td style="text-align:left">use</td><td style="text-align:left">Use values: <ul><li><code>tram</code></li><li><code>road</code></li><li><code>ramp</code></li><li><code>turn_channel</code></li><li><code>track</code></li><li><code>driveway</code></li><li><code>alley</code></li><li><code>parking_aisle</code></li><li><code>emergency_access</code></li><li><code>drive_through</code></li><li><code>culdesac</code></li><li><code>cycleway</code></li><li><code>mountain_bike</code></li><li><code>sidewalk</code></li><li><code>footway</code></li><li><code>steps</code></li><li><code>other</code></li><li><code>rail-ferry</code></li><li><code>ferry</code></li><li><code>rail</code></li><li><code>bus</code></li><li><code>egress_connection</code></li><li><code>platform_connection</code></li><li><code>transit_connection</code></li></ul></td></tr><tr><td style="text-align:left">toll</td><td style="text-align:left">True if the edge has any toll.</td></tr><tr><td style="text-align:left">unpaved</td><td style="text-align:left">True if the edge is unpaved or rough pavement.</td></tr><tr><td style="text-align:left">tunnel</td><td style="text-align:left">True if the edge is a tunnel.</td></tr><tr><td style="text-align:left">bridge</td><td style="text-align:left">True if the edge is a bridge.</td></tr><tr><td style="text-align:left">roundabout</td><td style="text-align:left">True if the edge is a roundabout.</td></tr><tr><td style="text-align:left">internal_intersection</td><td style="text-align:left">True if the edge is an internal intersection.</td></tr><tr><td style="text-align:left">drive_on_right</td><td style="text-align:left">True if the flag is enabled for driving on the right side of the street.</td></tr><tr><td style="text-align:left">surface</td><td style="text-align:left">Surface values: <ul><li><code>paved_smooth</code></li><li><code>paved</code></li><li><code>paved_rough</code></li><li><code>compacted</code></li><li><code>dirt</code></li><li><code>gravel</code></li><li><code>path</code></li><li><code>impassable</code></li></ul></td></tr><tr><td style="text-align:left">sign</td><td style="text-align:left">Contains the interchange guide information associated with this edge. See the list of <a href="#sign-items">sign items</a> for details.</td></tr><tr><td style="text-align:left">pedestrian_type</td><td style="text-align:left">Pedestrian type values:<ul><li><code>foot</code></li><li><code>wheelchair</code></li><li><code>segway</code></li></ul></td></tr><tr><td style="text-align:left">bicycle_type</td><td style="text-align:left">Bicycle type values:<ul><li><code>road</code></li><li><code>cross</code></li><li><code>hybrid</code></li><li><code>mountain</code></li></ul></td></tr><tr><td style="text-align:left">id</td><td style="text-align:left">Identifier of an edge within the tiled, hierarchical graph.</td></tr><tr><td style="text-align:left">indoor</td><td style="text-align:left">Whether or not the edge is inside of a building or structure or not.</td></tr><tr><td style="text-align:left">way_id</td><td style="text-align:left">Way identifier of the OpenStreetMap base data.</td></tr><tr><td style="text-align:left">weighted_grade</td><td style="text-align:left">The weighted grade factor. Pointz manufactures a <code>weighted_grade</code> from elevation data. It is a measure used for hill avoidance in routing - sort of a relative energy use along an edge. But since an edge in Pointz can possibly go up and down over several hills it might not equate to what most folks think of as grade.</td></tr><tr><td style="text-align:left">max_upward_grade</td><td style="text-align:left">The maximum upward slope. A value of 32768 indicates no elevation data is available for this edge.</td></tr><tr><td style="text-align:left">max_downward_grade</td><td style="text-align:left">The maximum downward slope. A value of 32768 indicates no elevation data is available for this edge.</td></tr><tr><td style="text-align:left">mean_elevation</td><td style="text-align:left">The mean or average elevation along the edge. Units are meters by default. If the units are specified as miles, then the mean elevation is returned in feet. A value of 32768 indicates no elevation data is available for this edge.</td></tr><tr><td style="text-align:left">lane_count</td><td style="text-align:left">The number of lanes for this edge.</td></tr><tr><td style="text-align:left">cycle_lane</td><td style="text-align:left">The type (if any) of bicycle lane along this edge.</td></tr><tr><td style="text-align:left">bicycle_network</td><td style="text-align:left">The bike network for this edge.</td></tr><tr><td style="text-align:left">sac_scale</td><td style="text-align:left">Classification of hiking trails based on difficulty. Values:<ul><li><code>0 - No Sac Scale</code></li><li><code>1 - Hiking</code></li><li><code>2 - Mountain hiking</code></li><li><code>3 - Demanding mountain hiking</code></li><li><code>4 - Alpine hiking</code></li><li><code>5 - Demanding alpine hiking</code></li><li><code>6 - Difficult alpine hiking</code></li></ul></td></tr><tr><td style="text-align:left">shoulder</td><td style="text-align:left">True if the edge has a shoulder.</td></tr><tr><td style="text-align:left">sidewalk</td><td style="text-align:left">Sidewalk values:<ul><li><code>left</code></li><li><code>right</code></li><li><code>both</code></li></ul></td></tr><tr><td style="text-align:left">`ensity</td><td style="text-align:left">The relative density along the edge.</td></tr><tr><td style="text-align:left">speed_limit</td><td style="text-align:left">Edge speed limit in the units specified. The default is kilometers per hour.</td></tr><tr><td style="text-align:left">end_node</td><td style="text-align:left">The node at the end of this edge. See the list of <a href="#end-node-items">end node items</a> for details.</td></tr><tr><td style="text-align:left">landmarks</td><td style="text-align:left">List of landmarks along the edge. They are used as direction support in navigation.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sign-items">Sign items<a href="#sign-items" class="hash-link" aria-label="Direct link to Sign items" title="Direct link to Sign items">​</a></h4>
<p>Each <code>sign</code> may include:</p>
<table><thead><tr><th style="text-align:left">Sign item</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">exit_number</td><td style="text-align:left">List of exit number elements. If an exit number element exists, it is typically just one value. Element example: <code>91B</code></td></tr><tr><td style="text-align:left">exit_branch</td><td style="text-align:left">List of exit branch elements. An exit branch element is the subsequent road name or route number after the sign. Element example: <code>I 95 North</code></td></tr><tr><td style="text-align:left">exit_toward</td><td style="text-align:left">List of exit toward elements. The exit toward element is the location where the road ahead goes; the location is typically a control city, but may also be a future road name or route number. Element example: <code>New York</code></td></tr><tr><td style="text-align:left">exit_name</td><td style="text-align:left">List of exit name elements. The exit name element is the interchange identifier, although typically not used in the United States. Element example: <code>Gettysburg Pike</code></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="end-node-items">End node items<a href="#end-node-items" class="hash-link" aria-label="Direct link to End node items" title="Direct link to End node items">​</a></h4>
<p>Each <code>end_node</code> may include:</p>
<table><thead><tr><th style="text-align:left">Node item</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">intersecting_edges</td><td style="text-align:left">List of intersecting edges at this node. See the list of <a href="#intersecting-edge-items">intersecting edge items</a> for details.</td></tr><tr><td style="text-align:left">elapsed_time</td><td style="text-align:left">Elapsed time of the path to arrive at this node.</td></tr><tr><td style="text-align:left">admin_index</td><td style="text-align:left">Index value in the admin list.</td></tr><tr><td style="text-align:left">type</td><td style="text-align:left">Node type values: <ul><li><code>street_intersection</code></li><li><code>gate</code></li><li><code>bollard</code></li><li><code>toll_booth</code></li><li><code>multi_use_transit_stop</code></li><li><code>bike_share</code></li><li><code>parking</code></li><li><code>motor_way_junction</code></li><li><code>border_control</code></li></ul></td></tr><tr><td style="text-align:left">fork</td><td style="text-align:left">True if this node is a fork.</td></tr><tr><td style="text-align:left">time_zone</td><td style="text-align:left">Time zone string for this node.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="intersecting-edge-items">Intersecting edge items<a href="#intersecting-edge-items" class="hash-link" aria-label="Direct link to Intersecting edge items" title="Direct link to Intersecting edge items">​</a></h4>
<p>Each <code>intersecting_edge</code> may include:</p>
<table><thead><tr><th style="text-align:left">Intersecting edge item</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">begin_heading</td><td style="text-align:left">The direction at the beginning of this intersecting edge. The units are degrees from north in a clockwise direction.</td></tr><tr><td style="text-align:left">from_edge_name_consistency</td><td style="text-align:left">True if this intersecting edge at the end node has consistent names with the path <code>from edge</code>.</td></tr><tr><td style="text-align:left">to_edge_name_consistency</td><td style="text-align:left">True if this intersecting edge at the end node has consistent names with the path <code>to edge</code>.</td></tr><tr><td style="text-align:left">cyclability</td><td style="text-align:left">Cyclability values, if available:<ul><li><code>forward</code></li><li><code>backward</code></li><li><code>both</code></li></ul></td></tr><tr><td style="text-align:left">use</td><td style="text-align:left">Use values: <ul><li><code>tram</code></li><li><code>road</code></li><li><code>ramp</code></li><li><code>turn_channel</code></li><li><code>track</code></li><li><code>driveway</code></li><li><code>alley</code></li><li><code>parking_aisle</code></li><li><code>emergency_access</code></li><li><code>drive_through</code></li><li><code>culdesac</code></li><li><code>cycleway</code></li><li><code>mountain_bike</code></li><li><code>sidewalk</code></li><li><code>footway</code></li><li><code>steps</code></li><li><code>other</code></li><li><code>rail-ferry</code></li><li><code>ferry</code></li><li><code>rail</code></li><li><code>bus</code></li><li><code>egress_connection</code></li><li><code>platform_connection</code></li><li><code>transit_connection</code></li></ul></td></tr><tr><td style="text-align:left">road_class</td><td style="text-align:left">Road class values:<ul><li><code>motorway</code></li><li><code>trunk</code></li><li><code>primary</code></li><li><code>secondary</code></li><li><code>tertiary</code></li><li><code>unclassified</code></li><li><code>residential</code></li><li><code>service_other</code></li></ul></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="admin-items">Admin items<a href="#admin-items" class="hash-link" aria-label="Direct link to Admin items" title="Direct link to Admin items">​</a></h4>
<p>Each <code>admin</code> may include:</p>
<table><thead><tr><th style="text-align:left">Admin item</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">country_code</td><td style="text-align:left">Country <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2" target="_blank" rel="noopener noreferrer">ISO 3166-1 alpha-2</a> code.</td></tr><tr><td style="text-align:left">country_text</td><td style="text-align:left">Country name.</td></tr><tr><td style="text-align:left">state_code</td><td style="text-align:left">State code.</td></tr><tr><td style="text-align:left">state_text</td><td style="text-align:left">State name.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="matched-point-items">Matched point items<a href="#matched-point-items" class="hash-link" aria-label="Direct link to Matched point items" title="Direct link to Matched point items">​</a></h4>
<p>Each <code>matched_point</code> may include:</p>
<table><thead><tr><th style="text-align:left">Matched point item</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">lat</td><td style="text-align:left">The latitude of the matched point.</td></tr><tr><td style="text-align:left">lon</td><td style="text-align:left">The longitude of the matched point.</td></tr><tr><td style="text-align:left">type</td><td style="text-align:left">Describes the type of this match result - possible values include:<ul><li><code>unmatched</code></li><li><code>interpolated</code></li><li><code>matched</code></li></ul></td></tr><tr><td style="text-align:left">edge_index</td><td style="text-align:left">The index of the edge in the list of edges that this matched point is associated with. This value will not exist if this point was unmatched.</td></tr><tr><td style="text-align:left">begin_route_discontinuity</td><td style="text-align:left">The boolean value is true if this match result is the begin location of a route disconnect. This value will not exist if this is false.</td></tr><tr><td style="text-align:left">end_route_discontinuity</td><td style="text-align:left">The boolean value is true if this match result is the end location of a route disconnect.  This value will not exist if this is false.</td></tr><tr><td style="text-align:left">distance_along_edge</td><td style="text-align:left">The distance along the associated edge for this matched point. For example, if the matched point is halfway along the edge then the value would be 0.5. This value will not exist if this point was unmatched.</td></tr><tr><td style="text-align:left">distance_from_trace_point</td><td style="text-align:left">The distance in meters from the trace point to the matched point. This value will not exist if this point was unmatched.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="get-better-results">Get better results<a href="#get-better-results" class="hash-link" aria-label="Direct link to Get better results" title="Direct link to Get better results">​</a></h2>
<p>Follow these guidelines to improve the Map Matching results.</p>
<ul>
<li>You should have good GPS accuracy, meaning that there are few obstructions affecting GPS signals. This can be difficult in urban areas.</li>
<li>Make sure the trace point density is within the approximate range of one per second and one per 10 seconds. The greater the range between them, the more chance of inaccurate results.</li>
<li>Have each trace represent one continuous path.</li>
<li>Verify that there is a corresponding match with the OpenStreetMap network.</li>
</ul>
<p>You can use certain parameters to tune the response. Unless otherwise noted, each of these options is specified within a root-level <code>trace_options</code> object.</p>
<ul>
<li>Use <code>turn_penalty_factor</code> to penalize turns from one road segment to next. For a pedestrian <code>trace_route</code>, you may see a back-and-forth motion along the streets of your path. Try increasing the turn penalty factor to 500 to smooth out jittering of points. Note that if GPS accuracy is already good, increasing this will have a negative affect on your results.</li>
<li>Set the <code>gps_accuracy</code> to indicate the accuracy in meters.</li>
<li>Apply a <code>search_radius</code> to specify the search radius (in meters) within which to search road candidates for each measurement. The maximum search radius is 100 meters. Note that performance may decrease with a higher search radius value.</li>
<li>Add a <code>time</code> component to your GPS data to inform the map matching algorithm about when the point was measured. Providing a <code>time</code> attribute is not available for <code>encoded_polyline</code> data and can only be specified with GPS data provided by the <code>shape</code> attribute. <code>time</code> is specified in seconds and can be a UNIX epoch time or any increasing sequence:</li>
</ul>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;shape&quot;:[{&quot;lat&quot;:39.983841,&quot;lon&quot;:-76.735741,&quot;time&quot;:0},{&quot;lat&quot;:39.983704,&quot;lon&quot;:-76.735298,&quot;time&quot;:2},{&quot;lat&quot;:39.983578,&quot;lon&quot;:-76.734848,&quot;time&quot;:6},...]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Pointz-Api-Doc-Web/docs/decoding-shape"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Decode a route shape</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Pointz-Api-Doc-Web/docs/category/tutorial---basics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutorial - Basics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#trace-route-action" class="table-of-contents__link toc-highlight">Trace route action</a></li><li><a href="#trace-attributes-action" class="table-of-contents__link toc-highlight">Trace attributes action</a></li><li><a href="#example-map-matching-requests" class="table-of-contents__link toc-highlight">Example Map Matching requests</a><ul><li><a href="#example-trace_route-requests" class="table-of-contents__link toc-highlight">Example <code>trace_route</code> requests</a></li><li><a href="#example-trace_attributes-requests" class="table-of-contents__link toc-highlight">Example <code>trace_attributes</code> requests</a></li></ul></li><li><a href="#inputs-of-the-map-matching-api" class="table-of-contents__link toc-highlight">Inputs of the Map Matching API</a><ul><li><a href="#shape-matching-parameters" class="table-of-contents__link toc-highlight">Shape-matching parameters</a></li><li><a href="#other-options" class="table-of-contents__link toc-highlight">Other options</a></li><li><a href="#attribute-filters-trace_attributes-only" class="table-of-contents__link toc-highlight">Attribute filters (<code>trace_attributes</code> only)</a></li></ul></li><li><a href="#outputs-of-the-map-matching-api" class="table-of-contents__link toc-highlight">Outputs of the Map Matching API</a><ul><li><a href="#outputs-of-trace_route" class="table-of-contents__link toc-highlight">Outputs of <code>trace_route</code></a></li><li><a href="#outputs-of-trace_attributes" class="table-of-contents__link toc-highlight">Outputs of <code>trace_attributes</code></a></li></ul></li><li><a href="#get-better-results" class="table-of-contents__link toc-highlight">Get better results</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Pointz-Api-Doc-Web/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Pointz-Api-Doc-Web/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Pointz Inc.</div></div></div></footer></div>
</body>
</html>